@model Inventarios.Models.UsuarioRolViewModel
@{
    ViewData["Title"] = "Eliminar Usuario";
}

<!-- HEADER -->
<div class="mb-4">
    <h1>ğŸ—‘ï¸ Eliminar Usuario</h1>
    <p class="text-muted">Esta acciÃ³n es irreversible</p>
</div>

<!-- ADVERTENCIA -->
<div class="alert alert-danger alert-lg" role="alert">
    <h5 class="alert-heading">âš ï¸ Advertencia Importante</h5>
    <p class="mb-0">
        Esta acciÃ³n eliminarÃ¡ al usuario de forma <strong>permanente</strong> del sistema. 
        No se podrÃ¡ recuperar. AsegÃºrate de que esta es la acciÃ³n correcta.
    </p>
</div>

<!-- INFORMACIÃ“N DEL USUARIO A ELIMINAR -->
<div class="row justify-content-center mb-4">
    <div class="col-lg-6">
        <div class="card border-danger">
            <div class="card-header bg-light border-danger">
                <strong>ğŸ“‹ InformaciÃ³n del Usuario</strong>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <h6 class="text-muted">ğŸ“§ Correo ElectrÃ³nico</h6>
                    <p class="h6">@Model.Correo</p>
                </div>

                <div class="mb-3">
                    <h6 class="text-muted">ğŸ”‘ ID del Usuario</h6>
                    <p class="h6"><code>@Model.Id.Substring(0, 12)...</code></p>
                </div>

                <div>
                    <h6 class="text-muted">ğŸ‘¤ Rol(es)</h6>
                    <div>
                        @if (Model.Roles?.Count > 0)
                        {
                            @foreach (var rol in Model.Roles)
                            {
                                var badgeClass = rol == "Admin" ? "badge bg-danger text-white" : "badge bg-success text-white";
                                var roleIcon = rol == "Admin" ? "ğŸ”´" : "ğŸŸ¢";
                                <span class="@badgeClass me-2">@roleIcon @rol</span>
                            }
                        }
                        else
                        {
                            <span class="badge bg-secondary text-white">âš ï¸ Sin rol</span>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FORMULARIO DE CONFIRMACIÃ“N -->
<form asp-action="Eliminar" method="post">
    <input type="hidden" name="id" value="@Model.Id" />
    
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <!-- Checkbox de confirmaciÃ³n -->
            <div class="form-check mb-4 p-3 border rounded bg-light">
                <input class="form-check-input" type="checkbox" id="confirmDelete" required>
                <label class="form-check-label" for="confirmDelete">
                    Confirmo que deseo eliminar este usuario permanentemente
                </label>
            </div>

            <!-- Botones -->
            <div class="d-flex gap-2">
                <a class="btn btn-secondary flex-grow-1" asp-action="Index">
                    â† Cancelar
                </a>
                <button type="submit" class="btn btn-danger flex-grow-1" onclick="return confirm('Â¿EstÃ¡s completamente seguro? Esta acciÃ³n NO se puede deshacer.')">
                    ğŸ—‘ï¸ Eliminar Usuario
                </button>
            </div>
        </div>
    </div>
</form>
